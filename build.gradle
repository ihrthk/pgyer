buildscript {
    repositories {
        jcenter()
    }
}

plugins {
    id 'nu.studer.plugindev' version '1.0.4'
}

apply plugin: 'maven'
apply plugin: 'groovy'

repositories {
    jcenter{
        url 'http://jcenter.bintray.com'
    }
}

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile 'com.squareup.okhttp:okhttp:2.5.0'
}

group = 'me.zhangls'
archivesBaseName = 'pgyer'
version = '0.1'

task javadocsJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.destinationDir
}

artifacts {
    archives sourcesJar
    archives javadocsJar
}

plugindev {
    pluginImplementationClass 'me.zhangls.pgyer.PgyerPlugin'
    pluginDescription 'Gradle plugin for pgyer.com upload'
    pluginLicenses 'MIT'
    pluginTags 'gradle', 'plugin', 'pgyer', 'upload'
    authorId 'ihrthk'
    authorName 'zhangls'
    authorEmail 'ihrthk@gmail.com'
    projectUrl 'https://github.com/ihrthk/pgyer'
    projectInceptionYear '2015'
    done()
}

bintray {
    user = 'ihrthk'
    key = ''
    pkg.repo = 'gradle-plugins'
}
